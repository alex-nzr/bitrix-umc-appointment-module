## Пример доработки модуля под кастомизированный модуль обмена 1С
### Важно: пример был сделан на версии модуля 2.*
### На версиях 3.0.0 и выше исходный код модуля сильно отличается и потребуется адаптация данного примера. Код версии 2.1.1 можно найти в соответствующей ветке.


Пример сделан на основе реального клиентского кейса: нужно было убрать возможность выбора филиала, добавив вместо этого возможность выбора подразделения.
В штатном обмене выгрузка подразделений не предусмотрена, поэтому обмен со стороны 1с был доработан.

Для того чтобы модуль обмена мог работать с кастомными данными нужно подписаться на события ДО и ПОСЛЕ обработки данных штатным парсером XML.

На событии ДО получить массив кастомизированных данных и сохранить их, например, в статическую переменную класса.

На событии ПОСЛЕ распарсить кастомный XML и вернуть результат вместо штатного.

Далее нужно доработать фронтенд, чтобы мог работать с json другой структуры. 
Чтобы модуль подключал кастомизированное js-расширение вместо стандартного, 
нужно определить глобальную константу `ANZ_APPOINTMENT_JS_EXTENSION` сохранив в неё полное наименование расширения.

Пример подписки на события модуля, кастомизации парсера и подключения кастомного js-расширения находится в папке `/local/php_interface`.
Пример кастомизированного расширения в папке `/local/js`


